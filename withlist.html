<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Finish the Lyric Musical Chairs</title>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: auto; padding: 20px; }
    h1, h2 { text-align: center; }
    #tagline { display: block; max-width: 100%; height: auto; margin: 0 auto 20px; }
    #audio { width: 100%; margin-bottom: 10px; }
    #songInfo, #infoLine { text-align: center; margin-bottom: 10px; font-size: 1.2rem; }
    #pauseTimer { text-align: center; font-size: 3rem; font-weight: bold; margin-bottom: 10px; }
    #progress-container { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
    #progress { flex: 1; }
    .controls { display: flex; justify-content: center; gap: 200px; margin-bottom: 10px; }
    .controls button {
      padding: 20px 32px;
      font-size: 1.5rem;
      border-radius: 8px;
      background-color: #007BFF;
      color: #fff;
      border: none;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      touch-action: manipulation;
    }
    .controls button:active { background-color: #0056b3; }
    #secondaryControls { display: flex; flex-direction: column; align-items: center; gap: 10px; margin-top: 10px; }
    #resetBtn { padding: 10px 16px; font-size: 1rem; border-radius: 8px; background-color: #007BFF; color: #fff; border: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    #resetBtn:active { background-color: #0056b3; }
    #songList { max-height: 300px; overflow-y: auto; padding-left: 0; list-style: none; border-top: 1px solid #ccc; margin-top: 30px; }
    #songList li { padding: 8px; cursor: pointer; border-bottom: 1px solid #ccc; }
    #songList li:hover { background-color: #f0f0f0; }
    #songList li.played { color: gray; }
    #songList li.current { background-color: #d0eaff; font-weight: bold; }
  </style>
</head>
<body>
  <img id="tagline" src="https://raw.githubusercontent.com/tlgsquared122/lyricmusicalchairs/main/tagline.png" alt="Finish the Lyric Musical Chairs">
  <h1>Finish the Lyric Musical Chairs</h1>
  <audio id="audio" preload="auto"></audio>

  <div id="songInfo">Current: <span id="currentSong">—</span></div>
  <div id="pauseTimer">READY</div>
  <div id="progress-container">
    <span id="currentTime">0:00</span>
    <input type="range" id="progress" value="0" min="0">
    <span id="duration">0:00</span>
  </div>

  <div class="controls" id="primaryControls">
    <button id="rewindBtn">Rewind 5s</button>
    <button id="playPauseBtn">Play</button>
  </div>

  <div id="infoLine">Next: <span id="nextSong">—</span> | Songs remaining: <span id="remainingCount">0</span></div>

  <div class="controls" id="secondaryControls">
    <button id="nextBtn">Next</button>
    <button id="resetBtn">Reset Songs</button>
  </div>

  <h2>Song List</h2>
  <ul id="songList"></ul>

  <script>
    // ✅ Replace this with your actual published Google Sheets CSV URL
    const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/15-ZVyqXsbhMxTZ0yRfzoWlnC_uzhv03R9wy1GAQbptE/pub?output=csv';

    const audio = document.getElem
